---
import Layout from '@layouts/Layout.astro';
---

<Layout
  title="SkillsBar - Browse Claude Code & Codex Skills from the Menu Bar"
  description="A macOS menu bar app for browsing and managing your Claude Code and Codex CLI skills and agents. Search, pin, track usage, and manage skills without leaving your workflow."
>
  <main class="page-wrap">
    <!-- Header -->
    <header class="top">
      <div class="brand">
        <h1 class="brand-title">SkillsBar</h1>
        <p class="brand-tagline">Claude Code and Codex CLI skills in the menu bar.</p>
      </div>
      <nav class="nav-links">
        <a class="btn primary" href="https://github.com/amandeepmittal/skillsbar/releases/latest">Download</a>
        <a class="btn ghost" href="https://github.com/amandeepmittal/skillsbar">
          <svg class="gh-icon" viewBox="0 0 16 16" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
          Source
        </a>
      </nav>
    </header>

    <!-- Hero -->
    <div class="hero">
      <div class="hero-copy">
        <div class="badges">
          <span class="badge">macOS 14+</span>
          <span class="badge">SwiftUI</span>
          <span class="badge">Free & open source</span>
          <span class="badge">Carbon HotKey</span>
        </div>
        <div class="hero-heading">
          <img class="hero-icon" src="/skillsbar-icon.png" alt="" aria-hidden="true" width="40" height="40" />
          <div>
            <h2>Your skills, always visible.</h2>
            <p>Browse, search, pin, and track usage of your Claude Code and Codex CLI skills and agents from a lightweight menu bar popover.</p>
          </div>
        </div>
        <div class="cta">
          <a class="btn primary" href="https://github.com/amandeepmittal/skillsbar/releases/latest">Download latest</a>
          <a class="btn secondary" href="https://github.com/amandeepmittal/skillsbar">
            <svg class="gh-icon" viewBox="0 0 16 16" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
            View on GitHub
          </a>
        </div>
        <ul class="bullets">
          <li>Tabbed browsing with count badges for Claude Code and Codex skills.</li>
          <li>Search and filter skills by name or description.</li>
          <li>Pin frequently used skills to the top of each tab.</li>
          <li>Usage stats from Claude Code session transcripts.</li>
          <li>"New" badge for skills modified in the last 24 hours.</li>
          <li>Detail view with metadata, trigger command, and file listing.</li>
          <li>Full content preview of raw SKILL.md body.</li>
          <li>Right-click context menu for pin, open, copy, and delete.</li>
          <li>Agent browsing for sub-agents with model and tools metadata.</li>
          <li>Global hotkey <code>Option+Shift+S</code> to toggle from anywhere.</li>
          <li>Live updates via FSEvents directory watcher.</li>
          <li>No Dock icon, lives entirely in the menu bar.</li>
        </ul>
      </div>
      <figure class="hero-shot">
        <img src="/skillsbar-list-view.png" alt="SkillsBar popover showing Claude Code skills and agents." />
        <figcaption>Skills popover with tabbed browsing, search, and badges.</figcaption>
      </figure>
    </div>

    <!-- Install card -->
    <div class="install-card">
      <h3>Install</h3>
      <p>
        Download <code>SkillsBar.zip</code> from <a href="https://github.com/amandeepmittal/skillsbar/releases/latest">GitHub Releases</a>, unzip and move to Applications, then remove the quarantine flag:
      </p>
      <div class="terminal">
        <div class="terminal-bar">
          <span class="terminal-dot red"></span>
          <span class="terminal-dot yellow"></span>
          <span class="terminal-dot green"></span>
          <span class="terminal-title">Terminal</span>
        </div>
        <div class="terminal-body">
          <code id="install-cmd"><span class="prompt">$</span> xattr -cr /Applications/SkillsBar.app</code>
          <button class="copy-btn" id="copy-install" aria-label="Copy to clipboard">Copy</button>
        </div>
      </div>
    </div>

    <!-- Detail cards -->
    <div class="details">
      <div class="card">
        <h3>Usage stats</h3>
        <p>
          Tracks skill invocations from Claude Code session transcripts with insights, ranked lists, and per-skill usage cards.
        </p>
      </div>
      <div class="card">
        <h3>Agent browsing</h3>
        <p>
          Browse Claude Code sub-agents (user and plugin) with model, color, and tools metadata.
        </p>
      </div>
      <div class="card">
        <h3>Quick actions</h3>
        <p>
          Open in VS Code, open in default editor, copy path, reveal in Finder, or delete directly from the list.
        </p>
      </div>
    </div>

    <!-- Screenshots -->
    <div class="screenshots-section">
      <div class="screenshot-scroll">
        <div class="screenshot-track">
          <figure class="shot">
            <img src="/skillsbar-codex-tab.png" alt="Codex CLI skills tab" />
            <figcaption>Codex tab</figcaption>
          </figure>
          <figure class="shot">
            <img src="/skillsbar-dark-mode.png" alt="Dark mode" />
            <figcaption>Dark mode</figcaption>
          </figure>
          <figure class="shot">
            <img src="/skillsbar-detail-view.png" alt="Skill detail view" />
            <figcaption>Detail view</figcaption>
          </figure>
          <figure class="shot">
            <img src="/skillsbar-usage-stats.png" alt="Usage statistics" />
            <figcaption>Usage stats</figcaption>
          </figure>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="foot">
      <p>
        Built by <a href="https://amanhimself.dev">Aman Mittal</a> &middot;
        <a href="https://github.com/amandeepmittal/skillsbar">Source</a> &middot;
        Apache-2.0
      </p>
    </footer>
  </main>
</Layout>

<script>
  document.getElementById('copy-install')?.addEventListener('click', () => {
    const text = 'xattr -cr /Applications/SkillsBar.app';
    navigator.clipboard.writeText(text).then(() => {
      const btn = document.getElementById('copy-install');
      if (btn) {
        btn.textContent = 'Copied!';
        setTimeout(() => { btn.textContent = 'Copy'; }, 1500);
      }
    });
  });
</script>

<style is:global>
  .page-wrap section,
  .page-wrap footer {
    max-width: none !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin: 0 !important;
  }

  body {
    background: linear-gradient(180deg, #f0ecfb 0%, #f7f5fc 35%, #ffffff 100%) !important;
    overflow-x: hidden !important;
  }

  .page-wrap svg:not(.gh-icon) {
    width: auto !important;
    height: auto !important;
    fill: none !important;
  }
  .page-wrap svg.gh-icon {
    width: 16px !important;
    height: 16px !important;
    fill: currentColor !important;
    display: inline-block !important;
  }
</style>

<style>
  .page-wrap {
    max-width: 860px;
    margin: 0 auto;
    padding: 40px 24px 30px;
    font-family: "Helvetica Neue", Arial, sans-serif;
    color: #1d1d1f;
    overflow-x: hidden;
  }

  .page-wrap a { color: inherit; text-decoration: none; }
  .page-wrap a:hover { text-decoration: underline; }
  .page-wrap code {
    font-family: 'IBM Plex Mono', ui-monospace, SFMono-Regular, Menlo, monospace;
    font-size: 0.88em;
  }

  /* ── Header ── */
  .top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    margin-bottom: 28px;
  }

  .brand-title {
    margin: 0;
    font-family: "Helvetica Neue", Arial, sans-serif;
    font-size: 22px;
    font-weight: 700;
    letter-spacing: -0.5px;
  }
  .brand-tagline { margin: 2px 0 0; color: #6e6e73; font-size: 13px; }
  .nav-links { display: flex; gap: 8px; }

  /* ── Buttons ── */
  .btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    border-radius: 10px;
    border: 1px solid #d2d2d7;
    font-size: 14px;
    font-weight: 600;
    background: #fff;
    color: #1d1d1f;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
    transition: all 150ms ease;
    white-space: nowrap;
    text-decoration: none !important;
    cursor: pointer;
  }
  .btn:hover { background: #f5f5f7; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); }

  .btn.primary {
    background: #7c6dd8;
    color: #fff;
    border-color: #7c6dd8;
  }
  .btn.primary:hover { background: #6b5cc5; border-color: #6b5cc5; }

  .btn.secondary {
    background: #1d1d1f;
    color: #fff;
    border-color: #1d1d1f;
  }
  .btn.secondary:hover { background: #333; border-color: #333; }

  .btn.ghost { background: transparent; border-color: transparent; box-shadow: none; color: #6e6e73; }
  .btn.ghost:hover { background: rgba(0, 0, 0, 0.04); }

  .gh-icon { width: 16px !important; height: 16px !important; fill: currentColor !important; }

  /* ── Hero ── */
  .hero {
    display: grid;
    grid-template-columns: 1.15fr 0.85fr;
    gap: 28px;
    align-items: center;
    padding: 28px;
    border: 1px solid #d2d2d7;
    border-radius: 16px;
    background: #fff;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);
  }

  .badges { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 12px; }
  .badge {
    font-family: "Helvetica Neue", Arial, sans-serif;
    font-size: 11px;
    font-weight: 500;
    padding: 4px 10px;
    border-radius: 6px;
    border: 1px solid #e8e8ed;
    background: #f5f5f7;
    color: #6e6e73;
    letter-spacing: 0.2px;
  }

  .hero-heading { display: flex; gap: 12px; align-items: flex-start; }
  .hero-icon { width: 40px !important; height: 40px !important; border-radius: 10px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12); }
  .hero-heading h2 {
    margin: 0 0 6px;
    font-family: "Helvetica Neue", Arial, sans-serif;
    font-size: 26px;
    font-weight: 700;
    letter-spacing: -0.5px;
    line-height: 1.2;
    color: #1d1d1f;
  }
  .hero-heading p { margin: 0; color: #6e6e73; font-size: 14px; line-height: 1.55; }

  .cta { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 16px; }

  .bullets { margin: 10px 0 0; padding: 0 0 0 18px; color: #6e6e73; font-size: 13px; line-height: 1.5; list-style: disc; }
  .bullets li { margin: 3px 0; padding-left: 2px; }
  .bullets code {
    background: #f5f5f7;
    padding: 1px 6px;
    border-radius: 4px;
    border: 1px solid #e8e8ed;
    font-size: 12px;
    color: #1d1d1f;
  }

  /* ── Hero screenshot ── */
  .hero-shot { margin: 0; justify-self: end; }
  .hero-shot img {
    max-width: 280px;
    margin-left: auto;
    width: 100%;
    height: auto;
    border-radius: 12px;
    border: 1px solid #d2d2d7;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
  }
  .hero-shot figcaption { max-width: 280px; margin: 8px 0 0 auto; text-align: center; color: #86868b; font-size: 12px; }

  /* ── Install card ── */
  .install-card {
    margin-top: 16px;
    padding: 20px 24px;
    border: 1px solid #d2d2d7;
    border-radius: 16px;
    background: #fff;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);
  }
  .install-card h3 {
    margin: 0 0 6px;
    font-family: "Helvetica Neue", Arial, sans-serif;
    font-size: 13px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: #1d1d1f;
  }
  .install-card p { margin: 0 0 12px; color: #6e6e73; font-size: 14px; line-height: 1.5; }
  .install-card a { text-decoration: underline; text-underline-offset: 2px; }
  .install-card code {
    font-size: 12.5px;
    background: #f5f5f7;
    padding: 1px 6px;
    border-radius: 4px;
    border: 1px solid #e8e8ed;
  }

  /* Terminal block */
  .terminal {
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid #3a3a3c;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }
  .terminal-bar {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    background: #3a3a3c;
  }
  .terminal-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
  }
  .terminal-dot.red { background: #ff5f57; }
  .terminal-dot.yellow { background: #febc2e; }
  .terminal-dot.green { background: #28c840; }
  .terminal-title {
    flex: 1;
    text-align: center;
    font-family: 'IBM Plex Mono', monospace;
    font-size: 11px;
    color: #98989d;
    margin-right: 36px; /* offset for dots centering */
  }
  .terminal-body {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 14px 16px;
    background: #1d1d1f;
  }
  .terminal-body code {
    flex: 1;
    font-size: 13px;
    color: #e5e5ea;
    background: none;
    border: none;
    padding: 0;
  }
  .prompt { color: #28c840; margin-right: 6px; }

  .copy-btn {
    flex-shrink: 0;
    padding: 4px 10px;
    border: 1px solid #48484a;
    border-radius: 6px;
    background: #2c2c2e;
    color: #98989d;
    cursor: pointer;
    font-family: 'IBM Plex Mono', monospace;
    font-size: 11px;
    transition: all 150ms ease;
  }
  .copy-btn:hover { background: #3a3a3c; color: #e5e5ea; border-color: #636366; }

  /* ── Detail cards ── */
  .details { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 16px; }

  .card {
    border: 1px solid #d2d2d7;
    border-radius: 12px;
    padding: 16px;
    background: #fff;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);
  }
  .card h3 {
    margin: 0 0 6px;
    font-family: "Helvetica Neue", Arial, sans-serif;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    color: #1d1d1f;
  }
  .card p { margin: 0; color: #6e6e73; font-size: 13px; line-height: 1.55; }

  /* ── Screenshots ── */
  .screenshots-section { margin-top: 16px; overflow: hidden; }
  .screenshot-scroll {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  .screenshot-scroll::-webkit-scrollbar { display: none; }
  .screenshot-track {
    display: inline-flex;
    gap: 12px;
    padding: 4px 4px 8px;
  }
  .shot { margin: 0; text-align: center; flex-shrink: 0; }
  .shot img {
    width: 200px;
    height: auto;
    border-radius: 12px;
    border: 1px solid #d2d2d7;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
  }
  .shot figcaption { margin-top: 6px; color: #86868b; font-size: 12px; }

  /* ── Footer ── */
  .foot { margin-top: 24px; text-align: center; color: #86868b; font-size: 12.5px; }
  .foot a { text-decoration: underline; text-underline-offset: 2px; color: #6e6e73; }

  /* ── Responsive ── */
  @media (max-width: 860px) {
    .top { flex-direction: column; align-items: flex-start; }
    .hero { grid-template-columns: 1fr; }
    .hero-shot { justify-self: center; }
    .hero-shot img { max-width: 260px; }
    .details { grid-template-columns: 1fr; }
    .shot img { width: 180px; }
  }
</style>
